---
id: ch1-2
title: Nodes, Topics, Services & Actions
sidebar_position: 2
duration: 12
difficulty: intermediate
---

# Nodes, Topics, Services & Actions

Deep dive into ROS 2 communication patterns including publish/subscribe, request/response, and goal-based interactions

## Learning Outcomes

- Implement publisher and subscriber nodes
- Create and use ROS 2 services
- Develop action servers and clients
- Debug communication issues

## Prerequisites

- ROS 2 basics
- Python programming

## Introduction

Welcome to Nodes, Topics, Services & Actions. This chapter will guide you through the essential concepts and practical applications needed to master deep dive into ros 2 communication patterns including publish/subscribe, request/response, and goal-based interactions.

Throughout this chapter, you'll build a strong foundation that will serve you well as you progress through The Robotic Nervous System (ROS 2). We'll start with the fundamentals and gradually move to more advanced topics, ensuring you have plenty of hands-on practice along the way.

By the end of this chapter, you'll have the knowledge and skills to confidently work with nodes, topics, services & actions in real-world robotic applications.
## Key Concepts

### Nodes and Topics

Nodes are the fundamental computational units in ROS 2. They are processes that perform computation and communicate with other nodes using topics. Topics are named channels over which nodes exchange messages. The publish-subscribe model allows for loose coupling between nodes, making the system modular and scalable.

### Services and Actions

Services provide request-response communication between nodes, suitable for tasks that require immediate feedback. Actions are similar to services but designed for long-running tasks that can be monitored and canceled. Understanding when to use each communication pattern is crucial for designing efficient robotic systems.

### Message Types and Interfaces

ROS 2 uses strongly-typed message definitions to ensure data consistency across different programming languages. Messages can be simple data types or complex structures with nested fields. Interface definitions (srv for services, action for actions) define the contract between communicating nodes.


## Code Examples

### Creating a Simple Publisher Node

Python implementation of a basic ROS 2 publisher

```python
#!/usr/bin/env python3
import rclpy
from rclpy.node import Node
from std_msgs.msg import String

class SimplePublisher(Node):
    def __init__(self):
        super().__init__('simple_publisher')
        self.publisher_ = self.create_publisher(String, 'topic', 10)
        timer_period = 1.0  # seconds
        self.timer = self.create_timer(timer_period, self.timer_callback)
        self.count = 0

    def timer_callback(self):
        msg = String()
        msg.data = f'Hello World: {self.count}'
        self.publisher_.publish(msg)
        self.get_logger().info(f'Publishing: "{msg.data}"')
        self.count += 1

def main(args=None):
    rclpy.init(args=args)
    publisher = SimplePublisher()
    rclpy.spin(publisher)
    publisher.destroy_node()
    rclpy.shutdown()

if __name__ == '__main__':
    main()
```

This Python script creates a ROS 2 node that publishes a String message to the "topic" topic every second. The node demonstrates the basic structure of a ROS 2 publisher including initialization, timer creation, and proper cleanup.

### Creating a Subscriber Node

Python implementation of a ROS 2 subscriber

```python
#!/usr/bin/env python3
import rclpy
from rclpy.node import Node
from std_msgs.msg import String

class SimpleSubscriber(Node):
    def __init__(self):
        super().__init__('simple_subscriber')
        self.subscription = self.create_subscription(
            String,
            'topic',
            self.listener_callback,
            10)
        self.subscription  # prevent unused variable warning

    def listener_callback(self, msg):
        self.get_logger().info(f'I heard: "{msg.data}"')

def main(args=None):
    rclpy.init(args=args)
    subscriber = SimpleSubscriber()
    rclpy.spin(subscriber)
    subscriber.destroy_node()
    rclpy.shutdown()

if __name__ == '__main__':
    main()
```

This subscriber node listens for messages on the "topic" topic and logs the received data. It demonstrates the subscription pattern in ROS 2, showing how to create a subscriber and handle incoming messages asynchronously.


## Practical Exercises

### Exercise 1: Publisher-Subscriber Communication

**Objective**: Implement basic ROS 2 communication between nodes

**Instructions**: 1. Create a publisher node that publishes custom messages
2. Create a subscriber node that receives the messages
3. Run both nodes simultaneously
4. Verify message transmission using ros2 topic echo

**Expected Results**: You should see messages flowing from the publisher to the subscriber in real-time.

### Exercise 2: Service Implementation

**Objective**: Create and use ROS 2 services for request-response communication

**Instructions**: 1. Define a custom service interface
2. Implement a service server
3. Create a service client
4. Test the service communication

**Expected Results**: You should successfully demonstrate request-response communication between ROS 2 nodes.


## Assessment

This chapter contributes to your overall assessment for The Robotic Nervous System (ROS 2). 

**Assessment Type**: Project-based evaluation

**Key Tasks**:
1. Complete all practical exercises successfully
2. Demonstrate understanding of key concepts through code implementation
3. Document your learning process and challenges encountered

**Evaluation Criteria**:
- Code quality and functionality (40%)
- Understanding of concepts (30%)
- Documentation and explanation (20%)
- Innovation and creativity (10%)

**Submission Requirements**:
- Submit your code implementations
- Include a brief explanation of your approach
- Provide screenshots or videos of working examples
- Reflect on challenges and solutions
## Resources

- [https://docs.ros.org/en/humble/Tutorials/](https://docs.ros.org/en/humble/Tutorials/)
- [https://github.com/ros2/examples](https://github.com/ros2/examples)

- [Official Documentation](https://docs.ros.org/)
- [Video Tutorials](https://www.youtube.com/results?search_query=Nodes,+Topics,+Services+&+Actions)
- [Community Forums](https://answers.ros.org/)

## What's Next

Continue to [Chapter 3](chapter-3.mdx) to learn more about The Robotic Nervous System (ROS 2).
